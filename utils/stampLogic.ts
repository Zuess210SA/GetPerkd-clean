// Core logic to calculate stamp progress and unlocks